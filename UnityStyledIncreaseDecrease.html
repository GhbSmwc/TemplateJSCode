<style>
.noselect {
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently
                                  supported by Chrome, Edge, Opera and Firefox */
}
.ClickHoldChangeNumber {
	cursor: ew-resize
}
</style>

<h1>Unity-styled number adjuster</h1>
<h2>Floating point, decimal numbers</h2>
<p>Press and hold down the left mouse button over &ldquo;Value 1/2/3/4&rdquo; and move your mouse left or right to adjust the value in the input boxes.</p>
<table>
<tr><td class="ClickHoldChangeNumber noselect" id="Drag1" data-drag_increment_number_id="Testing1" data-drag_increment_number_mousemove_distance="10"><span>Value 1 (increments of 1, ranging from -100 to 100):</span></td><td><input type="number" id="Testing1" value="0" min="-100" max="100"></td></tr>
<tr><td class="ClickHoldChangeNumber noselect" id="Drag2" data-drag_increment_number_id="Testing2" data-drag_increment_number_mousemove_distance="10"><span>Value 2: (increments of 10, ranging from -200 to 200)</span></td><td><input type="number" id="Testing2" value="0" step="10" min="-200" max="200"></td></tr>
<tr><td><span class="ClickHoldChangeNumber noselect" id="Drag3" data-drag_increment_number_id="Testing3" data-drag_increment_number_mousemove_distance="10">Value 3: (increments of 0.1, ranging from -1 to 1</span>, also binary floating points <a href="https://0.30000000000000004.com/">may not represent exact values)</a></td><td><input type="number" id="Testing3" value="0" step="0.1" data-drag_increment_number_tofixed="1" min="-1" max="1"></td></tr>
<tr><td class="ClickHoldChangeNumber noselect" id="Drag4" data-drag_increment_number_id="Testing4" data-drag_increment_number_mousemove_distance="10"><span>Value 4: (increments of 0.5, ranging from -10 to 10)</span></td><td><input type="number" id="Testing4" value="0" step="0.5" data-drag_increment_number_tofixed="1" min="-10" max="10"></td></tr>
</table>
<h2>Bigints</h2>
<table>
<tr><td class="ClickHoldChangeNumber noselect" id="Drag5" data-drag_increment_number_id="Testing5" data-drag_increment_number_mousemove_distance="10" data-drag_increment_number_type="bigint">testing123</td><td><input type="number" id="Testing5"></td></tr>
</table>
<span id="MousePos"></span>
<span id="DeltaDrag"></span>
<span id="IncrementDecrement"></span>
<span id="CurrentNumberInputValueSelected"></span>
<script>
//Unity-styled value incrementer. This code enables any element with the class "ClickHoldChangeNumber" with the attributes of "data-*" to increase/decrease a number:
//-dataset.drag_increment_number_id = the ID of the input number you wish to control
//-dataset.drag_increment_number_mousemove_distance = how far the mouse should move for each increment/decrement of the value
//-dataset.drag_increment_number_type = what type of number:
//--"number" for double-precision floating point (default if omitted).
//--"bigint" for bigint type.
//-data-drag_increment_number_radix = what radix (example: 2 = binary, 10 = decimal (default if omitted), 16 = hexadecimal). For other bases besides 10, I recommend using text-type of input rather than number.
//to enable an incrementer mechanic. This is inspired by the the game engine Unity's value editor as seen here: https://youtu.be/uY9PAcNMu8s?t=907
	//Initialize some variables
			MouseDragOriginX = 0
			MouseDragOriginY = 0
			WhichElementIDClicked = ""
			ClickHoldChangeNumberClasses = document.getElementsByClassName("ClickHoldChangeNumber")
	//Attach event listeners to elements
		window.onload=function(){
			CurrentNumberInputValueSelected = 0
			MouseState = ""
			let thing = ""
			//addEventListener only applies to individual elements, so we need to loop to place an event listener to each class.
				let Index = 0
				while (Index < ClickHoldChangeNumberClasses.length) {
					thing = ClickHoldChangeNumberClasses[Index].id
					ClickHoldChangeNumberClasses[Index].addEventListener('mousedown', PlaceDragOriginPos.bind(event, ClickHoldChangeNumberClasses[Index].id))
					Index++
				}
			document.addEventListener('mouseup', ExitPlaceDragOriginPos);
			document.addEventListener('mousemove', logKey);
			
		}
		function logKey(e) {
			if (MouseState != "PressedDown") {
				MouseDragOriginX = e.clientX
				MouseDragOriginY = e.clientY
			}
			//Debug stuff
				document.getElementById("MousePos").innerHTML = "<br><br>Mouse position: (" + MouseDragOriginX.toString(10) + ", " + MouseDragOriginY.toString(10) + ")<br>"
				document.getElementById("DeltaDrag").innerHTML = "Delta from mouse position: (" + (e.clientX - MouseDragOriginX).toString(10) + ", " + (e.clientY - MouseDragOriginY).toString(10) + ")<br>"
				document.getElementById("CurrentNumberInputValueSelected").innerHTML = "Starting number to increase/decrease from: " + (CurrentNumberInputValueSelected).toString(10)
			if (MouseState == "PressedDown") {
				MouseCoordinateArray = [e.clientX, e.clientY]
				MouseMoveIncreaseDecrease()
			}
		}
	//When the user presses down on the mouse button
		function PlaceDragOriginPos(ElementID) {
			if (event.button == 0) { //Prevent other mouse buttons besides the scroll wheel, the right click button, browser-back and browser-fourth button from triggering this.
				WhichElementIDClicked = ElementID	//This is which element the user have clicked on essentially. It's an object
				MouseState = "PressedDown"
				//Adjust source position
					CurrentNumberInputValueSelected = parseFloat(document.getElementById(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_id).value)
				//Cancel selection (if it didn't cancel selection, it is possible to release the mouse button WITHOUT firing the ExitPlaceDragOriginPos until the user presses and releases the mouse button
				//as it causes the user to drag selected text which could interrupt this)
					if (window.getSelection) {
						if (window.getSelection().empty) {  // Chrome
							window.getSelection().empty();
						} else if (window.getSelection().removeAllRanges) {  // Firefox
							window.getSelection().removeAllRanges();
						}
					} else if (document.selection) {  // IE?
						document.selection.empty();
					}
			}
		}
	//After pressing down on the mouse key and moves the cursor left or right, to adjust the number in the input.
	//Note to self:
	//- document.getElementById(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_id) gets you the ID of the number input from the element with the class "ClickHoldChangeNumber"
		function MouseMoveIncreaseDecrease() {
			let blah = document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_type
			let ValueForInput = Math.round((CurrentNumberInputValueSelected + Math.round((MouseCoordinateArray[0] - MouseDragOriginX) / parseInt(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_mousemove_distance)) * InputStepParseFloatValidate(document.getElementById(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_id).step)) / InputStepParseFloatValidate(document.getElementById(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_id).step)) * InputStepParseFloatValidate(document.getElementById(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_id).step)
			if ((document.getElementById(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_id).min != "")&&(ValueForInput < parseFloat(document.getElementById(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_id).min))) {
				ValueForInput = parseFloat(document.getElementById(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_id).min)
			}
			if ((document.getElementById(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_id).max != "")&&(ValueForInput > parseFloat(document.getElementById(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_id).max))) {
				ValueForInput = parseFloat(document.getElementById(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_id).max)
			}
			document.getElementById(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_id).value = ValueForInput.toFixed(document.getElementById(document.getElementById(WhichElementIDClicked).dataset.drag_increment_number_id).dataset.drag_increment_number_tofixed)
		}
		function InputStepParseFloatValidate(string) {
			//If the input string cannot be parsed into a number, default it to 1.
			//When an HTML attribute is not written, it is usually a zero-length string ("") (although not written, its object properties DO exists, just initialized to default values)
				let Output = 1
				if (isNaN(parseFloat(string)) == false) {
					Output = parseFloat(string)
				}
				return Output
		}
			
		function ExitPlaceDragOriginPos() {
			MouseState = "Released"
		}
</script>